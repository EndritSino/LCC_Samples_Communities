(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(36)},34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a(3),i=a(2),o=(a(30),a(17)),s=a(4),d=a(5),m=a(20),u={addedIds:[],quantityById:{}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"CHECKOUT_REQUEST":return u;case"CHECKOUT_FAILURE":return t.cart;default:return{addedIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.addedIds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return-1!==e.indexOf(t.productId)?e:Object(m.a)(e).concat([t.productId]);default:return e}}(e.addedIds,t),quantityById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.quantityById,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.productId;return Object(s.a)({},e,Object(d.a)({},a,(e[a]||0)+1));default:return e}}(e.quantityById,t)}}},v=Object(c.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PRODUCTS":return Object(s.a)({},e,t.products.reduce(function(e,t){return e[t.id]=t,e},{}));default:var a=t.productId;return a?Object(s.a)({},e,Object(d.a)({},a,function(e,t){switch(t.type){case"ADD_TO_CART":return Object(s.a)({},e,{inventory:e.inventory-1});default:return e}}(e[a],t))):e}},visibleIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PRODUCTS":return t.products.map(function(e){return e.id});default:return e}}}),f=function(e,t){return e.byId[t]},E=function(e){return e.visibleIds.map(function(t){return f(e,t)})},g={homeActive:1,cartActive:0,productsActive:0,receiptActive:0},h={homeActive:0,cartActive:1,productsActive:0,receiptActive:0},y={homeActive:0,cartActive:0,productsActive:1,receiptActive:0},b={homeActive:0,cartActive:0,productsActive:0,receiptActive:1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;switch((arguments.length>1?arguments[1]:void 0).type){case"GO_TO_CART":return h;case"GO_TO_PRODUCTS":return y;case"CHECKOUT_SUCCESS":return b;default:return e}},C=Object(c.c)({cart:p,products:v,buttons:N}),x=function(e){return function(e){return e.addedIds}(e.cart)},w=function(e,t){return function(e,t){return e.quantityById[t]||0}(e.cart,t)},O=function(e,t){return f(e.products,t)},T=a(11),A=function(e){console.log("Fetching shoes inventory from salesforce."),T.callApex("DemoController.getShoes",function(t,a){if(a.status){var n=1,r=!0,l=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;s.price=s.price__c,s.inventory=s.quantity__c,s.title=s.title__c,s.img=s.img__c,s.id=n,n+=1}}catch(d){l=!0,c=d}finally{try{r||null==o.return||o.return()}finally{if(l)throw c}}console.log(t),e(t)}else"exception"===a.type&&console.log(a.message+" : "+a.where)},{escape:!0})},_=function(e,t){console.log("Logging sale in salesforce."),console.log(e);var a=[],n=!0,r=!1,l=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done);n=!0)for(var o=c.value,s=0;s<o.quantity;s++)a.push({Shoe__c:o.Id})}catch(d){r=!0,l=d}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}console.log(a),T.callApex("DemoController.makeSale",a,function(e,a){a.status?(console.log(e),t(e)):"exception"===a.type&&console.log(a.message+" : "+a.where)},{escape:!0})},I=function(e){return function(t,a){a().products.byId[e].inventory>0&&t(function(e){return{type:"ADD_TO_CART",productId:e}}(e))}},S=function(e){var t=e.price,a=e.quantity,n=e.title,l=e.img,c=e.message;return r.a.createElement("div",{className:"w-100"},r.a.createElement("div",{className:"product-image"},r.a.createElement("img",{src:"./images/"+"".concat(l)+".jpg"})),r.a.createElement("div",{className:"product-info"},r.a.createElement("h3",{className:"h-120"},n),r.a.createElement("h6",null,"$",t,".00"),r.a.createElement("h6",null,a?" ".concat(a," ").concat(c):null)))},k=function(e){var t=e.product,a=e.onAddToCartClicked;return r.a.createElement("div",{className:"product-card"},r.a.createElement("div",{className:"w-100"},r.a.createElement(S,{title:t.title,price:t.price,quantity:t.inventory,img:t.img,message:"Left in stock!"}),r.a.createElement("button",{className:t.inventory>0?"btn btn-primary":"btn btn-danger",onClick:a,disabled:t.inventory>0?"":"disabled"},t.inventory>0?"Add to cart":"Sold Out")))},j=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement("div",{className:"flex"},t))},R=Object(i.b)(null,{goToCart:function(){return function(e){e({type:"GO_TO_CART"})}},goToProducts:function(){return function(e){e({type:"GO_TO_PRODUCTS"})}}})(function(e){var t=e.goToCart,a=e.goToProducts;return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-info btn-lg margin-right-small",onClick:a},r.a.createElement("span",null,"Products")),r.a.createElement("button",{className:"btn btn-info btn-lg",onClick:t},r.a.createElement("span",{className:"glyphicon glyphicon-shopping-cart"}),r.a.createElement("span",null," Shopping Cart")))}),D=Object(i.b)(function(e){return{active:function(e){return e.buttons.productsActive}(e),products:E(e.products)}},{addToCart:I})(function(e){var t=e.active,a=e.products,n=e.addToCart;return r.a.createElement("div",{className:t>0?"":"hide"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-grow margin-left-small header"},r.a.createElement("h2",null,"SHOP ALL SHOES")),r.a.createElement("div",{className:"margin-right-small margin-top-small"},r.a.createElement(R,null))),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"fake-left-panel"}),r.a.createElement("div",{className:"flex-grow make-room"},r.a.createElement(j,null,a.map(function(e){return r.a.createElement(k,{key:e.id,product:e,onAddToCartClicked:function(){return n(e.id)}})})))))}),U=a(18),q=a(19),F=(a(32),function(e){return Object(U.a)(e),r.a.createElement("div",{className:"flex bordered padding"},r.a.createElement("div",{className:"flex-grow"}),r.a.createElement("div",{className:"margin-left-small margin-right-small flex flex-30"},r.a.createElement(q.a,{number:"1234567891234567",name:"John Doe",expiry:"10/22",cvc:"1234"})),r.a.createElement("div",{className:"margin-left-small margin-right-small flex flex-30"},r.a.createElement("form",{className:"w-100"},r.a.createElement("div",null,r.a.createElement("input",{className:"padding w-100",type:"tel",name:"number",placeholder:"Card Number"})),r.a.createElement("div",null,r.a.createElement("input",{className:"padding w-100",type:"text",name:"name",placeholder:"Name"})),r.a.createElement("div",null,r.a.createElement("input",{className:"padding w-100",type:"tel",name:"expiry",placeholder:"Valid Thru"})),r.a.createElement("div",null,r.a.createElement("input",{className:"padding w-100",type:"tel",name:"cvc",placeholder:"CVC"})))),r.a.createElement("div",{className:"flex-grow"}))}),P=function(e){var t=e.products,a=e.total,n=e.onCheckoutClicked,l=t.length>0,c=l?t.map(function(e){return r.a.createElement("div",{className:"product-card-no-grow flex-center"},r.a.createElement(S,{title:e.title,price:e.price,quantity:e.quantity,img:e.img,message:"in cart.",key:e.id}))}):r.a.createElement("em",null,"Please add some products to cart.");return r.a.createElement("div",{className:"margin-left-small"},r.a.createElement("div",{className:"flex-no-wrap padding"},r.a.createElement("div",{className:"padding flex"},c),r.a.createElement("div",{className:"padding bordered w-100"},r.a.createElement("div",{className:"flex w-100"},r.a.createElement("span",{className:"padding"},r.a.createElement("b",null,"Subotal")),r.a.createElement("span",{className:"padding flex-grow"}),r.a.createElement("span",{className:"padding"},"$",parseFloat(a).toFixed(2))),r.a.createElement("div",{className:"flex w-100 border-top"},r.a.createElement("span",{className:"padding"},r.a.createElement("b",null,"Tax")),r.a.createElement("span",{className:"padding flex-grow"}),r.a.createElement("span",{className:"padding"},"$",parseFloat(a/10).toFixed(2))),r.a.createElement("div",{className:"flex w-100"},r.a.createElement("span",{className:"padding"},r.a.createElement("b",null,"Shipping")),r.a.createElement("span",{className:"padding flex-grow"}),r.a.createElement("span",{className:"padding"},"$",parseFloat(a/10).toFixed(2))),r.a.createElement("div",{className:"flex w-100 border-top"},r.a.createElement("span",{className:"padding"},r.a.createElement("b",null,"Final Total")),r.a.createElement("span",{className:"padding flex-grow"}),r.a.createElement("span",{className:"padding"},"$",parseFloat(1.2*a).toFixed(2))),r.a.createElement("br",null))),r.a.createElement("div",{className:"checkout-container padding"},r.a.createElement(F,null),r.a.createElement("div",{className:"flex padding bordered"},r.a.createElement("div",{className:"flex-grow"}),r.a.createElement("button",{className:"btn btn-primary wide",onClick:n,disabled:l?"":"disabled"},"Place your order."),r.a.createElement("div",{className:"flex-grow"}))))},H=Object(i.b)(function(e){return{active:function(e){return e.buttons.cartActive}(e),products:function(e){return x(e).map(function(t){return Object(s.a)({},O(e,t),{quantity:w(e,t)})})}(e),total:function(e){return x(e).reduce(function(t,a){return t+O(e,a).price*w(e,a)},0).toFixed(2)}(e)}},{checkout:function(e){return function(t,a){var n=a().cart;t({type:"CHECKOUT_REQUEST"}),_(e,function(){t({type:"CHECKOUT_SUCCESS",cart:n})})}}})(function(e){var t=e.active,a=e.products,n=e.total,l=e.checkout;return r.a.createElement("div",{className:t>0?"":"hide"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex flex-grow margin-left-small header"},r.a.createElement("h2",null,"Your Cart")),r.a.createElement("div",{className:"margin-right-small margin-top-small"},r.a.createElement(R,null))),r.a.createElement(P,{products:a,total:n,onCheckoutClicked:function(){return l(a)}}))}),B=Object(i.b)(function(e){return{active:function(e){return e.buttons.homeActive}(e)}},{})(function(e){var t=e.active;return r.a.createElement("div",{className:t>0?"appHome":"hide"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex flex-grow margin-left-small detail"},r.a.createElement("h2",null,"A react shopping cart based on salesforce product data.")),r.a.createElement("div",{className:"margin-right-small margin-top-small"},r.a.createElement(R,null))))}),K=Object(i.b)(function(e){return{active:function(e){return e.buttons.receiptActive}(e),products:E(e.products)}},{addToCart:I})(function(e){var t=e.active,a=e.products,n=e.addToCart;return r.a.createElement("div",{className:t>0?"":"hide"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex flex-grow margin-left-small header"},r.a.createElement("h2",null,"Thank you for your purchase.")),r.a.createElement("div",{className:"margin-right-small margin-top-small"},r.a.createElement(R,null))),r.a.createElement("br",null),r.a.createElement("div",{className:"padding"},r.a.createElement("div",null,"You'll receive an e-mail confirmation of your order shortly."),r.a.createElement("br",null),r.a.createElement("div",null,"Not done yet?  Try out these hot new items!"),r.a.createElement("br",null),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-grow"},r.a.createElement(j,null,a.slice(0,4).map(function(e){return r.a.createElement(k,{key:e.id,product:e,onAddToCartClicked:function(){return n(e.id)}})}))))))}),L=(a(34),function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(B,null)),r.a.createElement("div",null,r.a.createElement(D,null)),r.a.createElement("div",null,r.a.createElement(H,null)),r.a.createElement("div",null,r.a.createElement(K,null)))}),V=[o.a];var $=Object(c.d)(C,c.a.apply(void 0,V));$.dispatch(function(e){A(function(t){e(function(e){return{type:"RECEIVE_PRODUCTS",products:e}}(t))})}),Object(l.render)(r.a.createElement(i.a,{store:$},r.a.createElement(L,null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.0e3a6f93.chunk.js.map